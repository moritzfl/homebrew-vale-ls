class ${class_name} < Formula
  desc "Language Server Protocol implementation for Vale"
  homepage "https://github.com/${repo}"
  version "${version}"
  license "MIT"

${live_check}
${keg_only}

  on_macos do
    if Hardware::CPU.arm?
      url "https://github.com/${repo}/releases/download/v#{version}/vale-ls-aarch64-apple-darwin.zip"
      sha256 "${sha_mac_arm}"
    else
      url "https://github.com/${repo}/releases/download/v#{version}/vale-ls-x86_64-apple-darwin.zip"
      sha256 "${sha_mac_x86}"
    end
  end

  on_linux do
    if Hardware::CPU.arm?
      url "https://github.com/${repo}/releases/download/v#{version}/vale-ls-aarch64-unknown-linux-gnu.zip"
      sha256 "${sha_linux_arm}"
    else
      url "https://github.com/${repo}/releases/download/v#{version}/vale-ls-x86_64-unknown-linux-gnu.zip"
      sha256 "${sha_linux_x86}"
    end
  end

  def install
    bin.install "vale-ls"
  end

  test do
    assert_match version.to_s, shell_output("#{bin}/vale-ls --version")
  end
end
